2026-02-06 20:55:44,752 - AQI_PIPELINE - INFO - ========== FEATURE PIPELINE STARTED ==========
2026-02-06 20:55:44,753 - AQI_PIPELINE - INFO - Connecting to MongoDB Atlas...
2026-02-06 20:55:47,005 - AQI_PIPELINE - INFO - Connected to MongoDB | DB: pearls_aqi
2026-02-06 20:55:49,438 - AQI_PIPELINE - INFO - Raw rows loaded: 4272
2026-02-06 20:55:49,533 - AQI_PIPELINE - INFO - Dropped rows after feature engineering: 72
2026-02-06 20:55:49,534 - AQI_PIPELINE - INFO - Final feature rows: 4200
2026-02-06 21:02:55,455 - AQI_PIPELINE - INFO - Feature rows upserted: 24
2026-02-06 21:02:55,693 - AQI_PIPELINE - INFO - ========== FEATURE PIPELINE COMPLETED ==========
2026-02-06 21:07:51,454 - AQI_PIPELINE - INFO - =========== TRAINING PIPELINE STARTED ===========
2026-02-06 21:07:51,454 - AQI_PIPELINE - INFO - Connecting to MongoDB Atlas...
2026-02-06 21:07:53,511 - AQI_PIPELINE - INFO - Connected to MongoDB | DB: pearls_aqi
2026-02-06 21:07:56,897 - AQI_PIPELINE - INFO - Loaded 4224 feature rows
2026-02-06 21:07:57,034 - AQI_PIPELINE - INFO - Rows after time cleaning: 4176
2026-02-06 21:07:57,058 - AQI_PIPELINE - INFO - Total features used: 58
2026-02-06 21:07:57,058 - AQI_PIPELINE - INFO - Train rows: 3321 | Test rows: 831
2026-02-06 21:07:57,058 - AQI_PIPELINE - INFO - Training model: ridge
2026-02-06 21:10:28,394 - AQI_PIPELINE - INFO - =========== TRAINING PIPELINE STARTED ===========
2026-02-06 21:10:28,394 - AQI_PIPELINE - INFO - Connecting to MongoDB Atlas...
2026-02-06 21:10:29,751 - AQI_PIPELINE - INFO - Connected to MongoDB | DB: pearls_aqi
2026-02-06 21:10:33,193 - AQI_PIPELINE - INFO - Loaded 4224 feature rows
2026-02-06 21:10:33,346 - AQI_PIPELINE - INFO - Rows after time cleaning: 4176
2026-02-06 21:10:33,370 - AQI_PIPELINE - INFO - Total features used: 58
2026-02-06 21:10:33,372 - AQI_PIPELINE - INFO - Train rows: 3321 | Test rows: 831
2026-02-06 21:10:33,372 - AQI_PIPELINE - INFO - Training model: ridge
2026-02-06 21:12:17,701 - AQI_PIPELINE - INFO - =========== TRAINING PIPELINE STARTED ===========
2026-02-06 21:12:17,701 - AQI_PIPELINE - INFO - Connecting to MongoDB Atlas...
2026-02-06 21:12:19,071 - AQI_PIPELINE - INFO - Connected to MongoDB | DB: pearls_aqi
2026-02-06 21:12:22,101 - AQI_PIPELINE - INFO - Loaded 4224 feature rows
2026-02-06 21:12:22,184 - AQI_PIPELINE - INFO - Rows after time cleaning: 4176
2026-02-06 21:12:22,189 - AQI_PIPELINE - INFO - Total features used: 58
2026-02-06 21:12:22,199 - AQI_PIPELINE - INFO - Train rows: 3321 | Test rows: 831
2026-02-06 21:12:22,200 - AQI_PIPELINE - INFO - Training model: ridge
2026-02-06 21:12:22,371 - AQI_PIPELINE - INFO - Training model: random_forest
2026-02-06 21:12:50,868 - AQI_PIPELINE - INFO - Best model saved at: saved_models\pm25_Karachi_24h_random_forest_20260206_1612.pkl
2026-02-06 21:12:50,977 - AQI_PIPELINE - INFO - Model successfully registered in MongoDB.
2026-02-06 21:12:50,977 - AQI_PIPELINE - INFO - =========== TRAINING PIPELINE COMPLETED ===========
2026-02-06 21:17:09,664 - AQI_PIPELINE - INFO - ========== FEATURE PIPELINE STARTED ==========
2026-02-06 21:17:09,665 - AQI_PIPELINE - INFO - Connecting to MongoDB Atlas...
2026-02-06 21:17:11,414 - AQI_PIPELINE - INFO - Connected to MongoDB | DB: pearls_aqi
2026-02-06 21:17:12,985 - AQI_PIPELINE - INFO - Raw rows loaded: 4272
2026-02-06 21:18:30,400 - AQI_PIPELINE - INFO - =========== TRAINING PIPELINE STARTED ===========
2026-02-06 21:18:30,401 - AQI_PIPELINE - INFO - Connecting to MongoDB Atlas...
2026-02-06 21:18:31,821 - AQI_PIPELINE - INFO - Connected to MongoDB | DB: pearls_aqi
2026-02-06 21:19:36,100 - AQI_PIPELINE - INFO - ========== FEATURE PIPELINE STARTED ==========
2026-02-06 21:19:36,101 - AQI_PIPELINE - INFO - Connecting to MongoDB Atlas...
2026-02-06 21:19:37,507 - AQI_PIPELINE - INFO - Connected to MongoDB | DB: pearls_aqi
2026-02-06 21:19:39,378 - AQI_PIPELINE - INFO - Raw rows loaded: 4272
2026-02-06 21:19:39,383 - AQI_PIPELINE - WARNING - AQI column not found — using pm2_5 as target proxy
2026-02-06 21:19:39,457 - AQI_PIPELINE - INFO - Dropped rows after feature engineering: 264
2026-02-06 21:19:39,457 - AQI_PIPELINE - INFO - Final feature rows: 4056
2026-02-06 21:27:01,203 - AQI_PIPELINE - INFO - Feature rows upserted: 4056
2026-02-06 21:27:01,203 - AQI_PIPELINE - INFO - ========== FEATURE PIPELINE COMPLETED ==========
2026-02-06 21:27:18,694 - AQI_PIPELINE - INFO - =========== TRAINING PIPELINE STARTED ===========
2026-02-06 21:27:18,694 - AQI_PIPELINE - INFO - Connecting to MongoDB Atlas...
2026-02-06 21:27:21,470 - AQI_PIPELINE - INFO - Connected to MongoDB | DB: pearls_aqi
2026-02-06 21:27:27,866 - AQI_PIPELINE - INFO - Loaded 4056 feature rows
2026-02-06 21:27:28,006 - AQI_PIPELINE - INFO - Rows after time cleaning: 4056
2026-02-06 21:27:28,031 - AQI_PIPELINE - INFO - Total features used: 52
2026-02-06 21:27:28,031 - AQI_PIPELINE - INFO - Baseline RMSE (persistence): 1.00
2026-02-06 21:27:28,031 - AQI_PIPELINE - INFO - Training model: ridge
2026-02-06 21:27:28,078 - AQI_PIPELINE - INFO - ridge | RMSE=1.87 | MAE=1.67 | R2=-5.045
2026-02-06 21:27:28,078 - AQI_PIPELINE - INFO - Training model: random_forest
2026-02-06 21:27:55,824 - AQI_PIPELINE - INFO - random_forest | RMSE=0.78 | MAE=0.64 | R2=-0.052
2026-02-06 21:27:56,471 - AQI_PIPELINE - WARNING - R2 is negative — model is still better than naive baseline.
2026-02-06 21:27:56,471 - AQI_PIPELINE - INFO - =========== TRAINING PIPELINE COMPLETED ===========
2026-02-06 21:41:58,063 - AQI_PIPELINE - INFO - ===== FINAL FEATURE PIPELINE START =====
2026-02-06 21:41:58,064 - AQI_PIPELINE - INFO - Connecting to MongoDB Atlas...
2026-02-06 21:41:59,754 - AQI_PIPELINE - INFO - Connected to MongoDB | DB: pearls_aqi
2026-02-06 21:42:01,434 - AQI_PIPELINE - INFO - Building FINAL AQI features...
2026-02-06 21:42:01,547 - AQI_PIPELINE - INFO - Final feature rows: 4152
2026-02-06 21:42:10,428 - AQI_PIPELINE - INFO - Features saved to MongoDB
2026-02-06 21:42:10,428 - AQI_PIPELINE - INFO - ===== FEATURE PIPELINE COMPLETE =====

2026-02-06 21:44:56,838 - AQI_PIPELINE - INFO - ===== 3-MODEL TRAINING START =====
2026-02-06 21:44:56,838 - AQI_PIPELINE - INFO - Connecting to MongoDB Atlas...
2026-02-06 21:44:58,175 - AQI_PIPELINE - INFO - Connected to MongoDB | DB: pearls_aqi
2026-02-06 21:45:13,681 - AQI_PIPELINE - INFO - 
===== MODEL COMPARISON =====
2026-02-06 21:45:13,681 - AQI_PIPELINE - INFO - Ridge | RMSE: 0.00 | MAE: 0.00 | R2: 1.000
2026-02-06 21:45:13,682 - AQI_PIPELINE - INFO - RandomForest | RMSE: 0.08 | MAE: 0.03 | R2: 1.000
2026-02-06 21:45:13,682 - AQI_PIPELINE - INFO - XGBoost | RMSE: 2.33 | MAE: 1.44 | R2: 0.991
2026-02-06 21:45:13,803 - AQI_PIPELINE - INFO - Model saved & registered: models/Ridge_pm2_5_t24_20260206_2145.pkl
2026-02-06 21:45:13,804 - AQI_PIPELINE - INFO - ===== TRAINING COMPLETE =====

